<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Kardex" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="producto" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Inicio" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Fin" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Almacen" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Botica" class="java.lang.String"/>
	<parameter name="Usuario" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["D:\\PROYECTO\\SISBOTI\\SistemaNortfarma\\src\\Reportes\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="RANGO" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="CARGAR" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[CALL REPORTE_KARDEX_PSICOTROPICOS ($P{producto},$P{Inicio},$P{Fin},$P{Almacen},$P{Botica},$P{Usuario},$P{RANGO},$P{CARGAR})]]>
	</queryString>
	<field name="Id_Generico" class="java.lang.String"/>
	<field name="Id_Producto" class="java.lang.String"/>
	<field name="Descripcion" class="java.lang.String"/>
	<field name="DescripcionLab" class="java.lang.String"/>
	<field name="Fecha_Registro" class="java.sql.Date"/>
	<field name="TD" class="java.lang.String"/>
	<field name="Numero_Documento" class="java.lang.String"/>
	<field name="unidadCargo" class="java.lang.Integer"/>
	<field name="fraccionCargo" class="java.lang.Integer"/>
	<field name="unidadDescargo" class="java.lang.Integer"/>
	<field name="fraccionDesCargo" class="java.lang.Integer"/>
	<field name="Total_Stock_Empaque" class="java.lang.Integer"/>
	<field name="Total_Stock_Fraccion" class="java.lang.Integer"/>
	<field name="DNI" class="java.lang.String"/>
	<field name="PD" class="java.lang.String"/>
	<field name="Hora" class="java.sql.Time"/>
	<field name="CLIENTE" class="java.lang.String"/>
	<field name="MEDICO" class="java.lang.String"/>
	<variable name="DescripcionMovimiento" class="java.lang.String"/>
	<variable name="TotalMovs" class="java.lang.String" incrementType="Column" calculation="Count"/>
	<group name="producto">
		<groupExpression><![CDATA[$F{Id_Producto}]]></groupExpression>
		<groupHeader>
			<band height="53">
				<textField>
					<reportElement x="71" y="3" width="179" height="12"/>
					<textElement>
						<font fontName="Serif" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{PD}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="10" y="3" width="56" height="12"/>
					<textElement>
						<font fontName="Serif" size="8" isBold="true" isItalic="false"/>
					</textElement>
					<text><![CDATA[PRODUCTO:]]></text>
				</staticText>
				<textField>
					<reportElement x="409" y="2" width="143" height="12"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{DescripcionLab}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="331" y="3" width="75" height="12"/>
					<textElement>
						<font fontName="Serif" size="8" isBold="true" isItalic="false"/>
					</textElement>
					<text><![CDATA[LABORATORIO:]]></text>
				</staticText>
				<staticText>
					<reportElement x="306" y="43" width="28" height="10"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Unidad]]></text>
				</staticText>
				<staticText>
					<reportElement x="390" y="43" width="28" height="10"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true"/>
					</textElement>
					<text><![CDATA[Fracción]]></text>
				</staticText>
				<staticText>
					<reportElement x="1" y="32" width="49" height="21"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[FECHA]]></text>
				</staticText>
				<staticText>
					<reportElement x="278" y="43" width="28" height="10"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true"/>
					</textElement>
					<text><![CDATA[Fracción]]></text>
				</staticText>
				<staticText>
					<reportElement x="88" y="32" width="97" height="21"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Serif" size="7" isBold="true" isUnderline="false"/>
					</textElement>
					<text><![CDATA[MOVIMIENTO]]></text>
				</staticText>
				<staticText>
					<reportElement x="50" y="32" width="38" height="21"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[HORA]]></text>
				</staticText>
				<staticText>
					<reportElement x="362" y="43" width="28" height="10"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Unidad]]></text>
				</staticText>
				<staticText>
					<reportElement x="418" y="32" width="57" height="21"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[CLIENTE]]></text>
				</staticText>
				<staticText>
					<reportElement x="250" y="32" width="56" height="11"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[CARGOS]]></text>
				</staticText>
				<staticText>
					<reportElement x="362" y="32" width="56" height="11"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[SALDOS]]></text>
				</staticText>
				<staticText>
					<reportElement x="334" y="43" width="28" height="10"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true"/>
					</textElement>
					<text><![CDATA[Fracción]]></text>
				</staticText>
				<staticText>
					<reportElement x="306" y="32" width="56" height="11"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[DESCARGOS]]></text>
				</staticText>
				<staticText>
					<reportElement x="185" y="32" width="65" height="21"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[DOCUMENTO]]></text>
				</staticText>
				<staticText>
					<reportElement x="250" y="43" width="28" height="10"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Unidad]]></text>
				</staticText>
				<staticText>
					<reportElement x="475" y="32" width="80" height="21"/>
					<box>
						<pen lineWidth="0.25" lineColor="#000000"/>
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Serif" size="7" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[MEDICO]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="13"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="58" splitType="Stretch">
			<textField>
				<reportElement x="453" y="22" width="100" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="452" y="-2" width="100" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField pattern="h.mm.ss a">
				<reportElement x="452" y="10" width="100" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="375" y="-2" width="63" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<text><![CDATA[Fecha:]]></text>
			</staticText>
			<staticText>
				<reportElement x="375" y="10" width="64" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<text><![CDATA[Hora:]]></text>
			</staticText>
			<staticText>
				<reportElement x="375" y="22" width="78" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<text><![CDATA[Numero Pagina:]]></text>
			</staticText>
			<staticText>
				<reportElement x="166" y="-5" width="209" height="51"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[KARDEX PSICOTROPICOS]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="1" width="66" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[BOTICA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="14" width="66" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[NORTFARMA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="27" width="66" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[USUARIO]]></text>
			</staticText>
			<textField>
				<reportElement x="66" y="1" width="100" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{Botica}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="220" y="40" width="52" height="13"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$P{Inicio}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="288" y="40" width="55" height="13"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$P{Fin}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="272" y="40" width="16" height="13"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<text><![CDATA[al]]></text>
			</staticText>
			<textField>
				<reportElement x="66" y="27" width="100" height="13" forecolor="#666666"/>
				<textElement>
					<font fontName="Serif" size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{Usuario}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="26" splitType="Stretch">
			<staticText>
				<reportElement x="9" y="7" width="121" height="12"/>
				<textElement>
					<font fontName="Serif" size="9" isBold="true" isItalic="false"/>
				</textElement>
				<text><![CDATA[NOMBRE DEL GENERICO:]]></text>
			</staticText>
			<textField>
				<reportElement x="135" y="6" width="195" height="14"/>
				<textElement>
					<font fontName="Serif" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{Descripcion}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="2" splitType="Stretch">
			<line>
				<reportElement x="0" y="-3" width="555" height="1"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField>
				<reportElement x="186" y="0" width="65" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{Numero_Documento}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="363" y="0" width="28" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{Total_Stock_Empaque}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="391" y="0" width="28" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$F{Total_Stock_Fraccion}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="88" y="0" width="98" height="12"/>
				<textElement>
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{TD}]]></textFieldExpression>
			</textField>
			<textField pattern="h.mm a">
				<reportElement x="51" y="0" width="37" height="12"/>
				<textElement>
					<font fontName="Serif" size="7"/>
				</textElement>
				<textFieldExpression class="java.sql.Time"><![CDATA[$F{Hora}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="1" y="0" width="49" height="12"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{Fecha_Registro}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="251" y="0" width="28" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{unidadCargo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="279" y="0" width="28" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{fraccionCargo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="307" y="0" width="28" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{unidadDescargo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="335" y="0" width="28" height="12"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.Long"><![CDATA[$F{fraccionDesCargo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="419" y="0" width="57" height="12"/>
				<textElement>
					<font fontName="Serif" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CLIENTE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="476" y="0" width="79" height="12"/>
				<box>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement>
					<font fontName="Serif" size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{MEDICO}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="11" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="9" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="100" splitType="Stretch"/>
	</summary>
</jasperReport>
